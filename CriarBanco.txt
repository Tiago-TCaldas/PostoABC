CREATE TABLE COMBUSTIVEL (
    IDCOMBUSTIVEL     INTEGER NOT NULL,
    DESCRICAO         VARCHAR(100) NOT NULL,
    VALOR             DECIMAL(10,2) NOT NULL,
    PERCENTUALIMPOSTO DECIMAL(10,2) NOT NULL,
    CONSTRAINT PK_IDCOMBUSTIVEL PRIMARY KEY (IDCOMBUSTIVEL)
);

CREATE TABLE BOMBACOMBUSTIVEL (
    IDTANQUE           INTEGER NOT NULL,
    IDBOMBA            INTEGER NOT NULL,
    IDCOMBUSTIVEL      INTEGER NOT NULL,
    CONSTRAINT PK_IDBOMBACOMBUSTIVEL PRIMARY KEY (IDTANQUE, IDBOMBA)
);

ALTER TABLE BOMBACOMBUSTIVEL ADD CONSTRAINT FK_BOMBACOMBUSTIVEL_COMB
    FOREIGN KEY (IDCOMBUSTIVEL) REFERENCES COMBUSTIVEL(IDCOMBUSTIVEL);

CREATE TABLE ABASTECIMENTO (
    IDABASTECIMENTO    INTEGER NOT NULL,
    IDTANQUE           INTEGER NOT NULL,
    IDBOMBA            INTEGER NOT NULL,
    QUANTIDADELITROS   DECIMAL(10,2) NOT NULL,
    VALORABASTECIDO    DECIMAL(10,2) NOT NULL,  
    VALORIMPOSTO       DECIMAL(10,2) NOT NULL,
    DATAABASTECIMENTO  DATE NOT NULL,
    CONSTRAINT PK_IDABASTECIMENTO PRIMARY KEY (IDABASTECIMENTO)
);

CREATE TABLE LOTETRABALHO (
    ID              INTEGER NOT NULL,
    DATAABERTURA    DATE NOT NULL,
    DATAFECHAMENTO  DATE,
    CONSTRAINT PK_IDLOTETRABALHO PRIMARY KEY (ID)
);


INSERT INTO COMBUSTIVEL VALUES(1, 'GASOLINA COMUM', 1.95, 13.00);
INSERT INTO COMBUSTIVEL VALUES(2, 'GASOLINA ADITIVADA', 2.95, 13.00);
INSERT INTO COMBUSTIVEL VALUES(3, 'DIESEL', 3.95, 13.00);

                                          
INSERT INTO BOMBACOMBUSTIVEL VALUES(1, 1, 1); 
INSERT INTO BOMBACOMBUSTIVEL VALUES(1, 2, 2);  
INSERT INTO BOMBACOMBUSTIVEL VALUES(2, 1, 3);
INSERT INTO BOMBACOMBUSTIVEL VALUES(2, 2, 3);


/*
DROP TABLE LOTETRABALHO;
DROP TABLE ABASTECIMENTO;
DROP TABLE BOMBACOMBUSTIVEL;
DROP TABLE COMBUSTIVEL

*/